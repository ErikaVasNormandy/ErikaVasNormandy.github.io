<html>
<head>

  <title>ClickJacking</title>
  <style>

  @font-face {
      font-family:"Cardinal";
      src: url('../fonts/Cardinal.ttf');


  }
  @font-face{
    font-family:"typewriter";
    src: url('../fonts/typewriter-royal-200.regular.ttf');
  }


  body{
    background-color: black;
    background-image:url("https://img00.deviantart.net/782d/i/2014/180/9/a/arda_hyperion_by_asci_red-d7oj6hm.jpg");
    background-position: center;
    background-attachment: fixed;
    background-size: cover;

  }

  .bookpage {
      background-image: url(https://orig00.deviantart.net/e8e0/f/2011/247/6/e/old_paper_stock_02_by_ftourini-d48ubt0.png);
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
      background-position-y: 10px;
      min-height: 1700px;

      width: 1000px;

      display: block;

      padding-top:200px;
      padding-left:200px;
      padding-right:200px;
      padding-bottom: 200px;
      margin-left: auto;
      margin-right: auto;
      /*border-style: solid;
      border-color:rgba(0,0,0,0.1);*/
      font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
    }
    .centerIllustration{
      display: block;
      width: 80%;
      margin-left: auto;
      margin-right: auto;
      margin-top: auto;
    }

    .rightIllustration{
      width: 50%;
      float: right;
    }
    .leftIllustration{
      width: 50%;
      float: left;
    }

    .mainTitle{
      font-family:"Cardinal";
      text-align: center;
      margin-top: 10%;
      font-size:5em;
    }
    .subTitle{
      font-family:"Cardinal";
      text-align: center;
      font-size:2em;
    }

  p{
      font-size: 2em;
      font-weight: bold;
    }


  ol{
    font-size: 1.5em;
  }
  div.quoteBox{
    border-style: double;
    background-color: rgba(0, 0, 0, 0.3);
    padding: 20px 20px 20px 20px;
    font-size: 1.5em;
    text-align: center;

  }
  img.screenshot{
    width: 100%;

  }

  h1.wordart{
    font-family :"Courier New", Courier, monospace;
    font-size: 10%;
  }

  </style>
</head>

<body>
  <div id="0" class="bookpage">
    <h1 class="mainTitle">Pen Testing My Own Site:: ClickJacking</h1>
    <img class="centerIllustration" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/images/Sketches/Eye+Sketch.png"> </img>
    <h3 class="subTitle">Scanning and Exploiting Your Personal Site</h3>
    <h3 class="subTitle">Nov 7, 2017</h3>
    <h3 class="subTitle">scavengers-repo.com</h3>
  </div>


  <div id="1" class="bookpage">
    <p>On the road of making Scavengers-Repo, I figured it would be interesting to actually see just how secure the site was. Usually vulnerabilities are a byproduct of mistakes on the developer's part, and since I was the time-crunched developer, security took second priority over production </p>
    <p>Used this site: <a href="https://www.wordfence.com/learn/penetration-testing-your-wordpress-website/"></a> to get started on some of the basic steps of securing your own web application.  </p>
    <p>There are 4 steps they outline:
      <ol>
        <li>Reconaissance</li>
        <li>Scanning</li>
        <li>Exploitation</li>
        <li>Mitigation</li>
      </ol>
    </p>

    <p>
      Overall, it's very comprehensive and hands-on without too much jargon. I used their steps as a guideline to scan my own site.

    </p>
    <img class="rightIllustration" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/images/Sketches/Wirt.png"></img>

    <p>
      So with that said, let's get started on some Reconaissance!
    </p>
    <p>&nbsp</p>
    <p>&nbsp</p>
    <p>&nbsp</p>

    <h2 style="font-size: 3em;">1. Reconaissance</h2>
    <p>What can we do with a Terminal and a url?</p>
    <p style="margin-left: 10%;"> ==>What information can we gather with a url and a Terminal</p>
    <h1 class="wordart">NsLookup WhoIs + NMap</h1>
    <!-- <p><strong><img style="width: 70%; float: right;" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/images/Sketches/NSLookup.png"></strong></p> -->
  </div>



  <div id="2" class="bookpage">
    <p><strong>>nslookup</strong></p>
    <p><img src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/staticWebPages/ClickJacking/clickjack0.png"></p>
    <div class="quoteBox">"Nslookup is a program to query Internet domain name servers" <p style="font-size: .8em;">(>man nslookup)</p></div>

    <p>Use this tool to match Internet URL's to their server IP's</p>
    <p>I found a web url, maybe a website that a client wants me to test, and ran <strong>nslookup</strong> on it to get an IP</p>
    <img class= "screenshot" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/staticWebPages/ClickJacking/clickjack1.png"></img>
    <p>I've also run a <strong>whois</strong> just to see some more (public!) information about the url</p>
    <img class="rightIllustration" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/images/Sketches/GreyCat.png"></img>

    <p>Usually, I would also run an <strong>nmap</strong>scan on the IP we've just found.</p>
        <p> Nmap is a Terminal tool that let's us see the services on a particular address (ergo, what kinds of programs is this machine running?). We might be able to exploit them, such as a web server on port 80 that allows uploading files onto it.

          Since I'm going to be brief, I'll just move on to the Scanning stage to see what we can do with that IP address for this website </p>

  </div>



  <div id ="3" class="bookpage">
    <h2 style="font-size: 3em;">2. Scanning</h2>
    <p>The tutorial in the link says that at this stage, pen-testers use <strong>Fuzzing</strong> on the target. This boils down to sending large amounts of random data to the application</p>
    <img src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/images/Sketches/bilbobunny.png"class="leftIllustration"/>
    <p>Hopefully the results will reveal even more information about the target, although this can generate a lot of traffic that an IDS can pick up</p>
      <p>-->How exactly does the application work?</p>

    <p>-->Where did the developer make a mistake?</p>

    <p>The tutorial goes in depth on some available tools, such as SQLMap, WPScan, and Burpsuite.</p>
    <p>For this tutorial, I picked Nikto because it sounded like the least time-consuming with minimal setup </p>
      <p><strong>>nikto</strong></p>
    <img class="Screenshot" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/staticWebPages/ClickJacking/clickjack2_1.png"></img>

    <p>Well what do you know? the site is on an nginx server, and the developer (me) has not given this site protection against <strong>clickjacking</strong></p>
    <div class="quoteBox">"...The “clickjacking” attack allows an evil page to click on a “victim site” on behalf of the visitor."
    </div>
    https://javascript.info/clickjacking
    <p>This site gives a pretty good demo of how clickjacking works, but the basic gist is that the bad guy places an invisible iframe over a link or a button you intend to click. It's positioned in a way that clicking on the supposed button will actually cause you to click on the invisible iframe's link instead. </p>
  </div>

  <div id ="4" class="bookpage">
      <p>Since according to our <strong>nikto</strong> scan, the client site is vulnerable to clickjacking, let's test this out to see for sure. </p>
      <p>Based off of what javascript.info mentioned, there's a simple way to test this out</p>
      <img class="screenshot" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/staticWebPages/ClickJacking/clickjack2_2.png"/>
      <p>Just made a random html file with an iframe set to display the client's site. If the iframe vulnerability is present, the iframe will actually display the intended site, such as what we see below</p>
      <img style="width: 50%; position: inline-flex;" class = "screenshot" src ="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/staticWebPages/ClickJacking/clickjack3.png"></img>
      <p>It doesn't look like much, but we now have loaded the client site into an iframe </p>
      <img style="width: 50%;"src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/images/Sketches/tree1.png" class="rightIllustration"></img>

  </div>
  <div id ="5" class="bookpage">
   <p>If we gradually decrease the opacity</p>
   <img class="screenshot" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/staticWebPages/ClickJacking/clickjack4.png">
   <p>&nbsp</p>
   <p>Add a button over the other button </p>
   <img class="screenshot" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/staticWebPages/ClickJacking/clickjack5.png">
   <p style="font-size: 1.4em">Notice how the current page is set to "Home" and how the iframe has been placed in front of the button so that when we click on that grey button, we really end up clicking on the 'Projects' button in the iframe</p>
   <p></p>
  </div>

  <div id="6" class="bookpage">
    <p>Looks like it's just a button we can click, but looking at the console shows that the iframe is still there</p>
    <img class="screenshot" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/staticWebPages/ClickJacking/clickjack6.png">
    <p>The iframe is indeed placed over the button as shown when we up the opacity in the console</p>
    <img class="screenshot" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/staticWebPages/ClickJacking/clickjack7.png">
  </div>

  <div id="7" class="bookpage">
    <p>Set the opacity of the iframe back to 0, and click the button and see what happens</p>
    <img class="screenshot" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/staticWebPages/ClickJacking/clickjack8.png"></img>

    <p>So we might have thought we were clicking on that button, but in reality we clicked on the 'Projects' tab</p>
    <img class="screenshot" src="https://s3-us-west-1.amazonaws.com/scavengers-repo.com/staticWebPages/ClickJacking/clickjack9.png">
  </div>

  <div id="8" class="bookpage">
    write and show what happens when we configure Nginx
  </div>

</body>

</html>
